<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Start Trader Application</title>
</head>
<body>
    <p>
        Trader Application
    </p>

    <input type="text" id="host" placeholder="Host IP" value="127.0.0.1">
    <input type="text" id="port" placeholder="Port" value="7400" size="4">
    <input type="text" id="clientId" placeholder="Client ID" value="0" size="4">
    <input type="button" id="connect" name="Connect" value="Connect">

    <script>
        let host = document.getElementById("host");
        let port = document.getElementById("port");
        let clientID = document.getElementById("clientId");
        let connectButton = document.getElementById("connect");

        connectButton.onclick = function ConnectToTWS() {
            fetch('/connect', {
                method: 'PUT',
                cache: 'no-cache',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    ip: host.value,
                    port: port.value,
                    clientId: clientID.value,
                    connectionOpt: ""
                })
            })
                //.then(function(response) {
                //return response.json();
                //})
                //.then(function(jsonData) {
                //    console.log('Connection started');
                //})
                //.catch(function(err) {
                //    console.log('This does not seem right');
                //});
        }
    </script>
</body>
</html>